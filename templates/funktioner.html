{% extends "base.html" %}

{% block title %}Funktioner{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="page-box">
        <h1 class="mb-4">Funktioner</h1>

        <!-- Introduktion til funktioner -->
        <p>
            En funktion er en matematisk relation, der knytter hvert element i en mængde (kaldet <strong>definitionsmængden</strong>) til præcis ét element i en anden mængde (kaldet <strong>værdimængden</strong>). Funktioner bruges til at beskrive sammenhænge mellem variable.
        </p>

        <!-- Formel definition -->
        <p>
            En funktion \( f \) kan skrives som:
            \[
            f: X \rightarrow Y
            \]
            hvor \( X \) er definitionsmængden, og \( Y \) er værdimængden. For hvert <span class = "textbox"> \( x \in X \) <span class="textbox box">\( x \)  skal ses som et tal i en mængde af tal \( X \) </span> </span>  findes der et \( y \in Y \), således at \( y = f(x) \).
            Altså man skal bare se funktionen som her hedder \( f \) som en ting der tager et givent tal \( x \) og sender det over i et andet tal \( y \). Vi kan se på en illustration.
        </p>
        
        <div class="card card-example mb-3 shadow-sm">
            <div class="card-body">
                <h5 class="card-title">Illustration af en afbildning</h5>
                <div class="video">
                    <video autoplay loop muted style ="width: 100%; height: auto; border-radius: 15px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                        <source src="{{ url_for('static', filename='animations/ParallelAxesSameHeightDifferentScale.mp4') }}" type="video/mp4">
                        Din browser understøtter ikke video-tagget.
                </div>
        </div>
</div>





<!-- Eksempel på en simpel funktion -->
<div class="card card-example mb-3 shadow-sm">
    <div class="card-body">
        <h5 class="card-title">Eksempel 1: Lineær funktion</h5>
        <p class="card-text">
            En lineær funktion har formen:
            \[
            f(x) = ax + b
            \]
            hvor \( a \) og \( b \) er konstanter. For eksempel:
            \[
            f(x) = 2x + 3
            \]
            Her er \( a = 2 \) og \( b = 3 \).
        </p>
    </div>
</div>
<p>
    Nu kan vi se på nogle opgaver.
</p>

 <!-- Lette opgaver -->
 <div class="card card-example mb-3 shadow-sm">
    <div class="card-body">
        <h5 class="card-title">Lette Opgaver</h5>
        <p class="card-text">
            <strong>Opgave 1:</strong> Givet funktionen \( f(x) = 3x - 2 \), find \( f(4) \).
        </p>
        <button type="button" class="btn btn-primary" onclick="toggleSolution('let-opgave-1')">Vis løsning</button>
        <div id="let-opgave-1" class="mt-3" style="display: none;">
            <!-- Løsningen vises her -->
        </div>

        <p class="card-text mt-3">
            <strong>Opgave 2:</strong> Givet funktionen \( f(x) = x^2 + 2x + 1 \), find \( f(3) \).
        </p>
        <button type="button" class="btn btn-primary" onclick="toggleSolution('let-opgave-2')">Vis løsning</button>
        <div id="let-opgave-2" class="mt-3" style="display: none;">
            <!-- Løsningen vises her -->
        </div>

        <p class="card-text mt-3">
            <strong>Opgave 3:</strong> Givet funktionen \( f(x) = \frac{1}{x} \), find \( f(2) \).
        </p>
        <button type="button" class="btn btn-primary" onclick="toggleSolution('let-opgave-3')">Vis løsning</button>
        <div id="let-opgave-3" class="mt-3" style="display: none;">
            <!-- Løsningen vises her -->
        </div>
    </div>
</div>

<!-- Svære opgaver -->
<div class="card card-example mb-3 shadow-sm">
    <div class="card-body">
        <h5 class="card-title">Svære Opgaver</h5>
        <p class="card-text">
            <strong>Opgave 1:</strong> Givet funktionen \( f(x) = e^x \), find \( f'(x) \).
        </p>
        <button type="button" class="btn btn-primary" onclick="toggleSolution('svaer-opgave-1')">Vis løsning</button>
        <div id="svaer-opgave-1" class="mt-3" style="display: none;">
            <!-- Løsningen vises her -->
        </div>

        <p class="card-text mt-3">
            <strong>Opgave 2:</strong> Givet funktionen \( f(x) = \ln(x) \), find \( f'(x) \).
        </p>
        <button type="button" class="btn btn-primary" onclick="toggleSolution('svaer-opgave-2')">Vis løsning</button>
        <div id="svaer-opgave-2" class="mt-3" style="display: none;">
            <!-- Løsningen vises her -->
        </div>

        <p class="card-text mt-3">
            <strong>Opgave 3:</strong> Givet funktionen \( f(x) = \sin(x) \), find \( f'(x) \).
        </p>
        <button type="button" class="btn btn-primary" onclick="toggleSolution('svaer-opgave-3')">Vis løsning</button>
        <div id="svaer-opgave-3" class="mt-3" style="display: none;">
            <!-- Løsningen vises her -->
        </div>
    </div>
</div>

<!-- Meget svære opgaver -->
<div class="card card-example shadow-sm">
    <div class="card-body">
        <h5 class="card-title">Meget Svære Opgaver</h5>
        <p class="card-text">
            <strong>Opgave 1:</strong> Givet funktionen \( f(x) = x^3 + 2x^2 + x \), find \( \int f(x) \, dx \).
        </p>
        <button type="button" class="btn btn-primary" onclick="toggleSolution('meget-svaer-opgave-1')">Vis løsning</button>
        <div id="meget-svaer-opgave-1" class="mt-3" style="display: none;">
            <!-- Løsningen vises her -->
        </div>

        <p class="card-text mt-3">
            <strong>Opgave 2:</strong> Givet funktionen \( f(x) = \frac{1}{x^2} \), find \( \int f(x) \, dx \).
        </p>
        <button type="button" class="btn btn-primary" onclick="toggleSolution('meget-svaer-opgave-2')">Vis løsning</button>
        <div id="meget-svaer-opgave-2" class="mt-3" style="display: none;">
            <!-- Løsningen vises her -->
        </div>

        <p class="card-text mt-3">
            <strong>Opgave 3:</strong> Givet funktionen \( f(x) = \cos(x) \), find \( \int f(x) \, dx \).
        </p>
        <button type="button" class="btn btn-primary" onclick="toggleSolution('meget-svaer-opgave-3')">Vis løsning</button>
        <div id="meget-svaer-opgave-3" class="mt-3" style="display: none;">
            <!-- Løsningen vises her -->
        </div>
    </div>
</div>



<!-- Script til at vise/skjule løsninger -->
<script>
    // Funktion til at vise/skjule løsninger
    function toggleSolution(id) {
        const solutionDiv = document.getElementById(id);
        const button = document.querySelector(`button[onclick="toggleSolution('${id}')"]`);

        if (solutionDiv.style.display === "none") {
            // Vis løsningen
            let solution = '';

            switch (id) {
                case 'let-opgave-1':
                    solution = `
                        \[
                        f(4) = 3 \cdot 4 - 2 = 10
                        \]
                    `;
                    break;
                case 'let-opgave-2':
                    solution = `
                        \[
                        f(3) = 3^2 + 2 \cdot 3 + 1 = 16
                        \]
                    `;
                    break;
                case 'let-opgave-3':
                    solution = `
                        \[
                        f(2) = \frac{1}{2}
                        \]
                    `;
                    break;
                case 'svaer-opgave-1':
                    solution = `
                        \[
                        f'(x) = e^x
                        \]
                    `;
                    break;
                case 'svaer-opgave-2':
                    solution = `
                        \[
                        f'(x) = \frac{1}{x}
                        \]
                    `;
                    break;
                case 'svaer-opgave-3':
                    solution = `
                        \[
                        f'(x) = \cos(x)
                        \]
                    `;
                    break;
                case 'meget-svaer-opgave-1':
                    solution = `
                        \[
                        \int f(x) \, dx = \frac{1}{4}x^4 + \frac{2}{3}x^3 + \frac{1}{2}x^2 + C
                        \]
                    `;
                    break;
                case 'meget-svaer-opgave-2':
                    solution = `
                        \\begin{align*}
                        f(x) &= \\frac{1}{x^2} \\\\
                        &= 2
                        \\end{align*}
                    `;
                    break;
                case 'meget-svaer-opgave-3':
                    solution = `
                        \\[
                        \\int x^2 + 3x \\, dx = \\frac{1}{3}x^3 + \\frac{3}{2}x^2 + C
                        \\]
                    `;
                    break;
            }

            solutionDiv.innerHTML = solution;
            solutionDiv.style.display = "block";
            button.textContent = "Skjul løsning";
            MathJax.typesetPromise();
        } else {
            // Skjul løsningen
            solutionDiv.style.display = "none";
            button.textContent = "Vis løsning";
        }
    }
</script>
{% endblock %}